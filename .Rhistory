par(mfrow=c(1,2))
par(mar = c(11,4,3,2) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="2010 NYC Census by Race", ylim=c(0, .55), las=2)
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_race <- read.csv(file="./Data/complaints_by_race.csv", header=TRUE)
shootings_by_race <- read.csv(file="./Data/shootings_by_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_race, shootings_by_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="2010 NYC Census by Race", ylim=c(0, .55), las=2)
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_race <- read.csv(file="./Data/complaints_by_race.csv", header=TRUE)
shootings_by_race <- read.csv(file="./Data/shootings_by_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_race, shootings_by_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="2010 NYC Census by Race", ylim=c(0, .55), las=2)
race_bar_chart <- ggplot(race_data, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~dataset) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("Suspect/Perpetrator Race")
race_bar_chart
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_race <- read.csv(file="./Data/complaints_by_race.csv", header=TRUE)
shootings_by_race <- read.csv(file="./Data/shootings_by_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_race, shootings_by_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="2010 NYC Census by Race", ylim=c(0, .55), las=2)
race_bar_chart <- ggplot(race_data, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~dataset) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("Suspect/Perpetrator Race")
race_bar_chart
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_race <- read.csv(file="./Data/complaints_by_race.csv", header=TRUE)
shootings_by_race <- read.csv(file="./Data/shootings_by_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_race, shootings_by_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="NYC 2010 Census by Race", ylim=c(0, .55), las=2)
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
complaints_data <- read.csv(file="./Raw_Data/complaints_data.csv", header=TRUE, na.strings="n/a")
complaints_data$SUSP_RACE <- as.character(complaints_data$SUSP_RACE)
complaints_data[complaints_data$SUSP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
complaints_data[complaints_data$SUSP_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
complaints_by_susp_race <- aggregate(CMPLNT_NUM~SUSP_RACE, complaints_data, length)
colnames(complaints_by_susp_race) <- c("race", "count")
complaints_by_susp_race <- complaints_by_susp_race[order(-complaints_by_susp_race$count),]
complaints_by_susp_race <- complaints_by_susp_race[-1,]
complaints_by_susp_race <- complaints_by_susp_race[!(complaints_by_susp_race$race=="UNKNOWN"),]
complaints_by_susp_race$percentage <- complaints_by_susp_race$count / sum(complaints_by_susp_race$count)
complaints_by_susp_race$dataset <- "Complaints"
write.csv(complaints_by_susp_race, file="./Data/complaints_by_susp_race.csv", row.names=FALSE)
complaints_by_susp_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_susp_race <- read.csv(file="./Data/complaints_by_susp_race.csv", header=TRUE)
shootings_by_perp_race <- read.csv(file="./Data/shootings_by_perp_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_Susp_race, shootings_by_perp_race, sqf_by_race))
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_susp_race <- read.csv(file="./Data/complaints_by_susp_race.csv", header=TRUE)
shootings_by_perp_race <- read.csv(file="./Data/shootings_by_perp_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_susp_race, shootings_by_perp_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="NYC 2010 Census by Race", ylim=c(0, .55), las=2)
race_bar_chart <- ggplot(race_data, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~dataset) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("Suspect/Perpetrator Race")
race_bar_chart
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
complaints_data[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
complaints_data[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
complaints_data[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_susp_race <- complaints_by_susp_race[-1,]
complaints_by_vic_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
complaints_data[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_vic_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
complaints_data[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_vic_race <- head(complaints_by_vic_race,-2)
complaints_by_vic_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",]
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "WHITE",]
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",]
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE)
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE)
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
shootings_data[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER",] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",]
shootings_data[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE",] <- "AMER IND"
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data$PERP_RACE[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
shootings_data$PERP_RACE[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
shootings_by_vic_race <- aggregate(INCIDENT_KEY~VIC_RACE, shootings_data, length)
colnames(shootings_by_vic_race) <- c("race", "count")
shootings_by_vic_race <- shootings_by_vic_race[order(-shootings_by_vic_race$count),]
shootings_by_vic_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
complaints_data <- read.csv(file="./Raw_Data/complaints_data.csv", header=TRUE, na.strings="n/a")
complaints_data$SUSP_RACE <- as.character(complaints_data$SUSP_RACE)
complaints_data$SUSP_RACE[complaints_data$SUSP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$SUSP_RACE[complaints_data$SUSP_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_susp_race <- aggregate(CMPLNT_NUM~SUSP_RACE, complaints_data, length)
colnames(complaints_by_susp_race) <- c("race", "count")
complaints_by_susp_race <- complaints_by_susp_race[order(-complaints_by_susp_race$count),]
complaints_by_susp_race <- complaints_by_susp_race[-1,]
complaints_by_susp_race <- complaints_by_susp_race[!(complaints_by_susp_race$race=="UNKNOWN"),]
complaints_by_susp_race$percentage <- complaints_by_susp_race$count / sum(complaints_by_susp_race$count)
complaints_by_susp_race$dataset <- "Complaints"
write.csv(complaints_by_susp_race, file="./Data/complaints_by_susp_race.csv", row.names=FALSE)
complaints_by_susp_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_vic_race <- head(complaints_by_vic_race,-2)
complaints_by_vic_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
shootings_by_vic_race <- aggregate(INCIDENT_KEY~VIC_RACE, shootings_data, length)
colnames(shootings_by_vic_race) <- c("race", "count")
shootings_by_vic_race <- shootings_by_vic_race[order(-shootings_by_vic_race$count),]
shootings_by_vic_race <- shootings_by_vic_race[!(shootings_by_vic_race$race=="UNKNOWN"),]
shootings_by_vic_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_vic_race <- head(complaints_by_vic_race,-2)
complaints_by_vic_race$percentage <- complaints_by_vic_race$count / sum(complaints_by_vic_race$count)
complaints_by_vic_race$dataset <- "Complaints"
complaints_by_vic_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
shootings_by_vic_race <- aggregate(INCIDENT_KEY~VIC_RACE, shootings_data, length)
colnames(shootings_by_vic_race) <- c("race", "count")
shootings_by_vic_race <- shootings_by_vic_race[order(-shootings_by_vic_race$count),]
shootings_by_vic_race <- shootings_by_vic_race[!(shootings_by_vic_race$race=="UNKNOWN"),]
shootings_by_vic_race$percentage <- shootings_by_vic_race$count / sum(shootings_by_vic_race$count)
shootings_by_vic_race$dataset <- "Shootings"
shootings_by_vic_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
complaints_data <- read.csv(file="./Raw_Data/complaints_data.csv", header=TRUE, na.strings="n/a")
complaints_data$SUSP_RACE <- as.character(complaints_data$SUSP_RACE)
complaints_data$SUSP_RACE[complaints_data$SUSP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$SUSP_RACE[complaints_data$SUSP_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_susp_race <- aggregate(CMPLNT_NUM~SUSP_RACE, complaints_data, length)
colnames(complaints_by_susp_race) <- c("race", "count")
complaints_by_susp_race <- complaints_by_susp_race[order(-complaints_by_susp_race$count),]
complaints_by_susp_race <- complaints_by_susp_race[-1,]
complaints_by_susp_race <- complaints_by_susp_race[!(complaints_by_susp_race$race=="UNKNOWN"),]
complaints_by_susp_race$percentage <- complaints_by_susp_race$count / sum(complaints_by_susp_race$count)
complaints_by_susp_race$dataset <- "Complaints"
write.csv(complaints_by_susp_race, file="./Data/complaints_by_susp_race.csv", row.names=FALSE)
complaints_by_susp_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_vic_race <- head(complaints_by_vic_race,-2)
complaints_by_vic_race$percentage <- complaints_by_vic_race$count / sum(complaints_by_vic_race$count)
complaints_by_vic_race$dataset <- "Complaints"
complaints_by_vic_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_susp_race <- read.csv(file="./Data/complaints_by_susp_race.csv", header=TRUE)
shootings_by_perp_race <- read.csv(file="./Data/shootings_by_perp_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_susp_race, shootings_by_perp_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="NYC 2010 Census by Race", ylim=c(0, .55), las=2)
race_bar_chart <- ggplot(race_data, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~dataset) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("Suspect/Perpetrator Race")
race_bar_chart
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
shootings_data <- read.csv(file="./Raw_Data/shootings_data.csv", header=TRUE, na.strings="n/a")
shootings_data$PERP_RACE <- as.character(shootings_data$PERP_RACE)
shootings_data$PERP_RACE[shootings_data$PERP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
shootings_data$PERP_RACE[shootings_data$PERP_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
shootings_by_perp_race <- aggregate(INCIDENT_KEY~PERP_RACE, shootings_data, length)
colnames(shootings_by_perp_race) <- c("race", "count")
shootings_by_perp_race <- shootings_by_perp_race[order(-shootings_by_perp_race$count),]
shootings_by_perp_race <- shootings_by_perp_race[-1,]
shootings_by_perp_race <- shootings_by_perp_race[!(shootings_by_perp_race$race=="UNKNOWN"),]
shootings_by_perp_race$percentage <- shootings_by_perp_race$count / sum(shootings_by_perp_race$count)
shootings_by_perp_race$dataset <- "Shootings"
write.csv(shootings_by_perp_race, file="./Data/shootings_by_perp_race.csv", row.names=FALSE)
shootings_by_perp_race
shootings_data$VIC_RACE <- as.character(shootings_data$VIC_RACE)
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
shootings_data$VIC_RACE[shootings_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
shootings_by_vic_race <- aggregate(INCIDENT_KEY~VIC_RACE, shootings_data, length)
colnames(shootings_by_vic_race) <- c("race", "count")
shootings_by_vic_race <- shootings_by_vic_race[order(-shootings_by_vic_race$count),]
shootings_by_vic_race <- shootings_by_vic_race[!(shootings_by_vic_race$race=="UNKNOWN"),]
shootings_by_vic_race$percentage <- shootings_by_vic_race$count / sum(shootings_by_vic_race$count)
shootings_by_vic_race$dataset <- "Shootings"
write.csv(shootings_by_vic_race, file="./Data/shootings_by_vic_race.csv", row.names=FALSE)
shootings_by_vic_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
complaints_data <- read.csv(file="./Raw_Data/complaints_data.csv", header=TRUE, na.strings="n/a")
complaints_data$SUSP_RACE <- as.character(complaints_data$SUSP_RACE)
complaints_data$SUSP_RACE[complaints_data$SUSP_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$SUSP_RACE[complaints_data$SUSP_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_susp_race <- aggregate(CMPLNT_NUM~SUSP_RACE, complaints_data, length)
colnames(complaints_by_susp_race) <- c("race", "count")
complaints_by_susp_race <- complaints_by_susp_race[order(-complaints_by_susp_race$count),]
complaints_by_susp_race <- complaints_by_susp_race[-1,]
complaints_by_susp_race <- complaints_by_susp_race[!(complaints_by_susp_race$race=="UNKNOWN"),]
complaints_by_susp_race$percentage <- complaints_by_susp_race$count / sum(complaints_by_susp_race$count)
complaints_by_susp_race$dataset <- "Complaints"
write.csv(complaints_by_susp_race, file="./Data/complaints_by_susp_race.csv", row.names=FALSE)
complaints_by_susp_race
complaints_data$VIC_RACE <- as.character(complaints_data$VIC_RACE)
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "AMERICAN INDIAN/ALASKAN NATIVE"] <- "AMER IND"
complaints_data$VIC_RACE[complaints_data$VIC_RACE == "ASIAN / PACIFIC ISLANDER"] <- "ASIAN/PAC.ISL"
complaints_by_vic_race <- aggregate(CMPLNT_NUM~VIC_RACE, complaints_data, length)
colnames(complaints_by_vic_race) <- c("race", "count")
complaints_by_vic_race <- complaints_by_vic_race[order(-complaints_by_vic_race$count),]
complaints_by_vic_race <- complaints_by_vic_race[!(complaints_by_vic_race$race=="UNKNOWN"),]
complaints_by_vic_race <- head(complaints_by_vic_race,-2)
complaints_by_vic_race$percentage <- complaints_by_vic_race$count / sum(complaints_by_vic_race$count)
complaints_by_vic_race$dataset <- "Complaints"
write.csv(complaints_by_vic_race, file="./Data/complaints_by_vic_race.csv", row.names=FALSE)
complaints_by_vic_race
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_susp_race <- read.csv(file="./Data/complaints_by_susp_race.csv", header=TRUE)
shootings_by_perp_race <- read.csv(file="./Data/shootings_by_perp_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_susp_race, shootings_by_perp_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="NYC 2010 Census by Race", ylim=c(0, .55), las=2)
race_bar_chart <- ggplot(race_data, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~dataset) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("Suspect/Perpetrator Race")
race_bar_chart
complaints_by_vic_race <- read.csv(file="./Data/complaints_by_vic_race.csv", header=TRUE)
complaints_by_vic_race$susp_vic_category <- "Complaints | Victim"
shootings_by_vic_race <- read.csv(file="./Data/shootings_by_vic_race.csv", header=TRUE)
shootings_by_vic_race$cateogry <- "Shootings | Victim"
complaints_by_susp_race$susp_vic_category <- "Complaints | Suspect"
shootings_by_perp_race$susp_vic_category <- "Shootings | Perpetrator"
susp_vic_by_race <- do.call("rbind", list(complaints_by_vic_race, complaints_by_susp_race, shootings_by_perp_race, shootings_by_vic_race))
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(tidyverse)
library(ggplot2)
sqf_by_year <- read.csv(file="./Data/sqf_by_year.csv", header=TRUE)
ggplot(data=sqf_by_year, aes(x=year, y=count/1000)) + geom_bar(stat="identity") + ggtitle("NYPD Stop-and-Frisk (2003-2017)") + theme_grey(18) + theme(plot.title=element_text(hjust=0.5)) + scale_x_continuous("Year", labels=as.character(sqf_by_year$year), breaks=sqf_by_year$year) + ylab("Frequency (Thousands)")
arrests_by_race <- read.csv(file="./Data/arrests_by_race.csv", header=TRUE)
census_by_race <- read.csv(file="./Data/census_by_race.csv", header=TRUE)
complaints_by_susp_race <- read.csv(file="./Data/complaints_by_susp_race.csv", header=TRUE)
shootings_by_perp_race <- read.csv(file="./Data/shootings_by_perp_race.csv", header=TRUE)
sqf_by_race <- read.csv(file="./Data/sqf_by_race.csv", header=TRUE)
race_data <- do.call("rbind", list(arrests_by_race, complaints_by_susp_race, shootings_by_perp_race, sqf_by_race))
race_data$dataset <- factor(race_data$dataset, levels=c("Stop-and-Frisk", "Complaints", "Arrests", "Shootings"))
par(mfrow=c(1,2))
par(mar = c(11,4,3,1) + 0.1)
barplot(sqf_by_race$percentage, names.arg=sqf_by_race$race, main="Stop-and-Frisk by Suspect Race", ylim=c(0, .55), las=2)
barplot(census_by_race$percentage, names.arg=census_by_race$race, main="NYC 2010 Census by Race", ylim=c(0, .55), las=2)
race_bar_chart <- ggplot(race_data, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~dataset) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("Suspect/Perpetrator Race")
race_bar_chart
complaints_by_vic_race <- read.csv(file="./Data/complaints_by_vic_race.csv", header=TRUE)
complaints_by_vic_race$susp_vic_category <- "Complaints | Victim"
shootings_by_vic_race <- read.csv(file="./Data/shootings_by_vic_race.csv", header=TRUE)
shootings_by_vic_race$susp_vic_category <- "Shootings | Victim"
complaints_by_susp_race$susp_vic_category <- "Complaints | Suspect"
shootings_by_perp_race$susp_vic_category <- "Shootings | Perpetrator"
susp_vic_by_race <- do.call("rbind", list(complaints_by_vic_race, complaints_by_susp_race, shootings_by_perp_race, shootings_by_vic_race))
susp_vic_by_race$susp_vic_category <- factor(susp_vic_by_race$susp_vic_category, levels=c("Complaints | Suspect", "Complaints | Victim", "Shootings | Perpetrator", "Shootings | Victim"))
susp_vic_bar_chart <- ggplot(susp_vic_by_race, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~susp_vic_category) + theme(axis.text.x = element_text(angle = 60, hjust=1))
complaints_by_vic_race <- read.csv(file="./Data/complaints_by_vic_race.csv", header=TRUE)
complaints_by_vic_race$susp_vic_category <- "Complaints | Victim"
shootings_by_vic_race <- read.csv(file="./Data/shootings_by_vic_race.csv", header=TRUE)
shootings_by_vic_race$susp_vic_category <- "Shootings | Victim"
complaints_by_susp_race$susp_vic_category <- "Complaints | Suspect"
shootings_by_perp_race$susp_vic_category <- "Shootings | Perpetrator"
susp_vic_by_race <- do.call("rbind", list(complaints_by_vic_race, complaints_by_susp_race, shootings_by_perp_race, shootings_by_vic_race))
susp_vic_by_race$susp_vic_category <- factor(susp_vic_by_race$susp_vic_category, levels=c("Complaints | Suspect", "Complaints | Victim", "Shootings | Perpetrator", "Shootings | Victim"))
susp_vic_bar_chart <- ggplot(susp_vic_by_race, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~susp_vic_category) + theme(axis.text.x = element_text(angle = 60, hjust=1))
susp_vic_bar_chart
complaints_by_vic_race <- read.csv(file="./Data/complaints_by_vic_race.csv", header=TRUE)
complaints_by_vic_race$susp_vic_category <- "Complaints | Victim"
shootings_by_vic_race <- read.csv(file="./Data/shootings_by_vic_race.csv", header=TRUE)
shootings_by_vic_race$susp_vic_category <- "Shootings | Victim"
complaints_by_susp_race$susp_vic_category <- "Complaints | Suspect"
shootings_by_perp_race$susp_vic_category <- "Shootings | Perpetrator"
susp_vic_by_race <- do.call("rbind", list(complaints_by_vic_race, complaints_by_susp_race, shootings_by_perp_race, shootings_by_vic_race))
susp_vic_by_race$susp_vic_category <- factor(susp_vic_by_race$susp_vic_category, levels=c("Complaints | Suspect", "Complaints | Victim", "Shootings | Perpetrator", "Shootings | Victim"))
susp_vic_bar_chart <- ggplot(susp_vic_by_race, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~susp_vic_category) + theme(axis.text.x = element_text(angle = 60, hjust=1))
susp_vic_bar_chart
complaints_by_vic_race <- read.csv(file="./Data/complaints_by_vic_race.csv", header=TRUE)
complaints_by_vic_race$susp_vic_category <- "Complaints | Victim"
shootings_by_vic_race <- read.csv(file="./Data/shootings_by_vic_race.csv", header=TRUE)
shootings_by_vic_race$susp_vic_category <- "Shootings | Victim"
complaints_by_susp_race$susp_vic_category <- "Complaints | Suspect"
shootings_by_perp_race$susp_vic_category <- "Shootings | Perpetrator"
susp_vic_by_race <- do.call("rbind", list(complaints_by_vic_race, complaints_by_susp_race, shootings_by_perp_race, shootings_by_vic_race))
susp_vic_by_race$susp_vic_category <- factor(susp_vic_by_race$susp_vic_category, levels=c("Complaints | Suspect", "Complaints | Victim", "Shootings | Perpetrator", "Shootings | Victim"))
susp_vic_bar_chart <- ggplot(susp_vic_by_race, aes(x=race, y=percentage)) + geom_bar(stat="identity") + facet_grid(.~susp_vic_category) + theme(axis.text.x = element_text(angle = 60, hjust=1)) + xlab("")
susp_vic_bar_chart
